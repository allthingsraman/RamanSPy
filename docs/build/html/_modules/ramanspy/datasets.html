<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>ramanspy.datasets - RamanSPy</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #7C4DFF;
  --color-brand-content: #7C4DFF;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">RamanSPy</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/raman_logo_transparent.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Quick start:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../data_classes.html">Data containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loading.html">Data loading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plot.html">Data visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../preprocessing.html">Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../synth.html">Synthetic data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Gallery:</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../auto_tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/i-classes/plot_i_generic_container.html">Storing generic data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/i-classes/plot_ii_spectrum_container.html">Storing spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/i-classes/plot_iii_image_container.html">Storing imaging data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/i-classes/plot_iv_volume_container.html">Storing volumetric data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/ii-instrumental/i_witec.html">Loading WITec data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/ii-instrumental/ii_renishaw.html">Loading Renishaw data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/ii-instrumental/iii_ocean_insight.html">Loading Ocean Insight data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/ii-instrumental/iv_other.html">Loading other data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iii-datasets/ii_rruff.html">Loading the RRUFF dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iii-datasets/plot_i_bacteria.html">Loading the Bacteria dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iii-datasets/plot_ii_metrics.html">Using built-in metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iv-viz/plot_i_spectra.html">Visualising spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iv-viz/plot_ii_peaks.html">Visualising peaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iv-viz/plot_ii_spectra_mean.html">Visualising spectral distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iv-viz/plot_iii_image.html">Visualising imaging data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iv-viz/plot_iv_volume.html">Visualising volumetric data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iv-viz/plot_v_peak_dist.html">Visualising peak distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/iv-viz/plot_vi_customisation.html">Customising plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/v-preprocessing/plot_i_predefined_methods.html">Built-in methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/v-preprocessing/plot_ii_custom_method.html">Custom methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/v-preprocessing/plot_iii_custom_pipeline.html">Custom pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/v-preprocessing/plot_iv_predefined_pipeline.html">Built-in protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/vi-analysis/plot_i_decomposition.html">Built-in decomposition methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/vi-analysis/plot_ii_kmeans.html">Built-in clustering methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/vi-analysis/plot_iii_unmixing.html">Built-in unmixing methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/vi-analysis/plot_iv_integrative_svm.html">Integrative analysis: Support Vector Machine (SVM) classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/vi-analysis/plot_v_integrative_nn.html">Integrative analysis: Neural Network (NN) classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_tutorials/vii-synth/plot_i_endmembers.html">Generate synthetic spectra</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../auto_examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../auto_examples/plot_i_package_overview.html">Cell phenotyping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_examples/plot_i_preprocessing_pipelines.html">Preprocessing pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_examples/plot_ii_dl_denoising.html">AI-based denoising</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auto_examples/plot_iii_bacteria_classification.html">Bacteria classification</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/barahona-research-group/RamanSPy">GitHub repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://chemrxiv.org/engage/chemrxiv/article-details/64a53861ba3e99daef8c9c51">Paper</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <h1>Source code for ramanspy.datasets</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">scipy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlopen</span>
<span class="kn">from</span> <span class="nn">zipfile</span> <span class="kn">import</span> <span class="n">ZipFile</span>
<span class="kn">import</span> <span class="nn">wget</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">core</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">load</span>


<div class="viewcode-block" id="bacteria">
<a class="viewcode-back" href="../../datasets.html#ramanspy.datasets.bacteria">[docs]</a>
<span class="k">def</span> <span class="nf">bacteria</span><span class="p">(</span><span class="n">dataset</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raman spectra acquired from different bacterial and yeast isolates.</span>

<span class="sd">    &gt;80k spectra across 30+ isolates. Ideal for classification modelling.</span>

<span class="sd">    Data from `Ho, CS. et al. (2019) &lt;https://www.nature.com/articles/s41467-019-12898-9&gt;`_.</span>

<span class="sd">    Must be downloaded first. Provided by authors on `DropBox &lt;https://www.dropbox.com/sh/gmgduvzyl5tken6/AABtSWXWPjoUBkKyC2e7Ag6Da?dl=0&gt;`_.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dataset : str, default=&#39;train&#39;</span>
<span class="sd">        Which bacteria dataset to load.</span>

<span class="sd">        Available datasets are:</span>

<span class="sd">        - ``&#39;train&#39;`` - 60k spectra, 2k for each of 30 different reference bacterial and yeast isolates;</span>
<span class="sd">        - ``&#39;val&#39;`` - 3k spectra, 100 spectra for each of the reference isolates;</span>
<span class="sd">        - ``&#39;test&#39;`` - 3k spectra, 100 spectra for each of the reference isolates;</span>
<span class="sd">        - ``&#39;clinical2018&#39;`` - 12k spectra, 400 spectra for each of 30 patient isolates (distributed across 5 species);</span>
<span class="sd">        - ``&#39;clinical2019&#39;`` - 2.5k spectra, 100 spectra for each of 25 patient isolates (distributed across 5 species);</span>
<span class="sd">        - ``&#39;labels&#39;`` - The names of the species and antibiotics corresponding to the 30 classes.</span>

<span class="sd">    folder : str, default=None</span>
<span class="sd">        Path to the folder containing the downloaded data. If None, will use the root location. Irrelevant if ``dataset=&#39;labels&#39;``.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    SpectralContainer with spectral_data of shape (N, B)</span>
<span class="sd">        The Raman spectra provided in the selected dataset.</span>
<span class="sd">    np.ndarray[int] of shape (N, )</span>
<span class="sd">        The corresponding labels - indicating which bacteria species each data point corresponds to.</span>


<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Ho, CS., Jean, N., Hogan, C.A. et al. Rapid identification of pathogenic bacteria using Raman spectroscopy and deep learning. Nat Commun 10, 4927 (2019).</span>


<span class="sd">    Examples:</span>
<span class="sd">    ----------</span>

<span class="sd">    .. code::</span>

<span class="sd">        import ramanspy as rp</span>
<span class="sd">       </span>
<span class="sd">        # Load training and testing datasets</span>
<span class="sd">        X_train, y_train = rp.datasets.bacteria(&quot;train&quot;, path_to_data=&quot;path/to/data&quot;)</span>
<span class="sd">        X_test, y_test = rp.datasets.bacteria(&quot;test&quot;, path_to_data=&quot;path/to/data&quot;))</span>

<span class="sd">        # Load the names of the species and antibiotics corresponding to the 30 classes</span>
<span class="sd">        y_labels, antibiotics_labels = rp.datasets.bacteria(&quot;labels&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_bacteria_splits</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;train&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;X_reference.npy&#39;</span><span class="p">,</span> <span class="s1">&#39;y_reference.npy&#39;</span><span class="p">],</span>
        <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;X_finetune.npy&#39;</span><span class="p">,</span> <span class="s1">&#39;y_finetune.npy&#39;</span><span class="p">],</span>
        <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;X_test.npy&#39;</span><span class="p">,</span> <span class="s1">&#39;y_test.npy&#39;</span><span class="p">],</span>
        <span class="s2">&quot;clinical2018&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;X_2018clinical.npy&#39;</span><span class="p">,</span> <span class="s1">&#39;y_2018clinical.npy&#39;</span><span class="p">],</span>
        <span class="s2">&quot;clinical2019&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;X_2019clinical.npy&#39;</span><span class="p">,</span> <span class="s1">&#39;y_2019clinical.npy&#39;</span><span class="p">],</span>
        <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="kc">None</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">dataset</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_bacteria_splits</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2"> is not a valid split of the bacteria dataset. Available splits are </span><span class="si">{</span><span class="n">_bacteria_splits</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">dataset</span> <span class="o">==</span> <span class="s1">&#39;labels&#39;</span><span class="p">:</span>
        <span class="n">y_labels</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;C. albicans&#39;</span><span class="p">,</span> <span class="s1">&#39;C. glabrata&#39;</span><span class="p">,</span> <span class="s1">&#39;K. aerogenes&#39;</span><span class="p">,</span> <span class="s1">&#39;E. coli 1&#39;</span><span class="p">,</span> <span class="s1">&#39;E. coli 2&#39;</span><span class="p">,</span> <span class="s1">&#39;E. faecium&#39;</span><span class="p">,</span> <span class="s1">&#39;E. faecalis 1&#39;</span><span class="p">,</span>
            <span class="s1">&#39;E. faecalis 2&#39;</span><span class="p">,</span> <span class="s1">&#39;E. cloacae&#39;</span><span class="p">,</span> <span class="s1">&#39;K. pneumoniae 1&#39;</span><span class="p">,</span> <span class="s1">&#39;K. pneumoniae 2&#39;</span><span class="p">,</span> <span class="s1">&#39;P. mirabilis&#39;</span><span class="p">,</span> <span class="s1">&#39;P. aeruginosa 1&#39;</span><span class="p">,</span>
            <span class="s1">&#39;P. aeruginosa 2&#39;</span><span class="p">,</span> <span class="s1">&#39;MSSA 1&#39;</span><span class="p">,</span> <span class="s1">&#39;MSSA 3&#39;</span><span class="p">,</span> <span class="s1">&#39;MRSA 1 (isogenic)&#39;</span><span class="p">,</span> <span class="s1">&#39;MRSA 2&#39;</span><span class="p">,</span> <span class="s1">&#39;MSSA 2&#39;</span><span class="p">,</span> <span class="s1">&#39;S. enterica&#39;</span><span class="p">,</span>
            <span class="s1">&#39;S. epidermidis&#39;</span><span class="p">,</span> <span class="s1">&#39;S. lugdunensis&#39;</span><span class="p">,</span> <span class="s1">&#39;S. marcescens&#39;</span><span class="p">,</span> <span class="s1">&#39;S. pneumoniae 2&#39;</span><span class="p">,</span> <span class="s1">&#39;S. pneumoniae 1&#39;</span><span class="p">,</span> <span class="s1">&#39;S. sanguinis&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Group A Strep.&#39;</span><span class="p">,</span> <span class="s1">&#39;Group B Strep.&#39;</span><span class="p">,</span> <span class="s1">&#39;Group C Strep.&#39;</span><span class="p">,</span> <span class="s1">&#39;Group G Strep.&#39;</span><span class="p">]</span>

        <span class="n">antibiotics_labels</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;Caspofungin&#39;</span><span class="p">,</span> <span class="s1">&#39;Caspofungin&#39;</span><span class="p">,</span> <span class="s1">&#39;Meropenem&#39;</span><span class="p">,</span> <span class="s1">&#39;Meropenem&#39;</span><span class="p">,</span> <span class="s1">&#39;Meropenem&#39;</span><span class="p">,</span> <span class="s1">&#39;Daptomycin&#39;</span><span class="p">,</span> <span class="s1">&#39;Penicillin&#39;</span><span class="p">,</span> <span class="s1">&#39;Penicillin&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Meropenem&#39;</span><span class="p">,</span> <span class="s1">&#39;Meropenem&#39;</span><span class="p">,</span> <span class="s1">&#39;Meropenem&#39;</span><span class="p">,</span> <span class="s1">&#39;Meropenem&#39;</span><span class="p">,</span> <span class="s1">&#39;TZP&#39;</span><span class="p">,</span> <span class="s1">&#39;TZP&#39;</span><span class="p">,</span> <span class="s1">&#39;Vancomycin&#39;</span><span class="p">,</span> <span class="s1">&#39;Vancomycin&#39;</span><span class="p">,</span> <span class="s1">&#39;Vancomycin&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Vancomycin&#39;</span><span class="p">,</span> <span class="s1">&#39;Vancomycin&#39;</span><span class="p">,</span> <span class="s1">&#39;Ciprofloxacin&#39;</span><span class="p">,</span> <span class="s1">&#39;Vancomycin&#39;</span><span class="p">,</span> <span class="s1">&#39;Vancomycin&#39;</span><span class="p">,</span> <span class="s1">&#39;Meropenem&#39;</span><span class="p">,</span> <span class="s1">&#39;Ceftriaxone&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Ceftriaxone&#39;</span><span class="p">,</span> <span class="s1">&#39;Penicillin&#39;</span><span class="p">,</span> <span class="s1">&#39;Penicillin&#39;</span><span class="p">,</span> <span class="s1">&#39;Penicillin&#39;</span><span class="p">,</span> <span class="s1">&#39;Penicillin&#39;</span><span class="p">,</span> <span class="s1">&#39;Penicillin&#39;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">y_labels</span><span class="p">,</span> <span class="n">antibiotics_labels</span>

    <span class="n">X_path</span><span class="p">,</span> <span class="n">y_path</span> <span class="o">=</span> <span class="n">_bacteria_splits</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>

    <span class="n">X_data_path</span> <span class="o">=</span> <span class="n">X_path</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">X_path</span><span class="p">)</span>
    <span class="n">y_data_path</span> <span class="o">=</span> <span class="n">y_path</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">y_path</span><span class="p">)</span>
    <span class="n">wavenumbers_path</span> <span class="o">=</span> <span class="s1">&#39;wavenumbers.npy&#39;</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s1">&#39;wavenumbers.npy&#39;</span><span class="p">)</span>

    <span class="n">X_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">X_data_path</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">y_data_path</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">wavenumbers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">wavenumbers_path</span><span class="p">)</span>

    <span class="n">X</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">(</span><span class="n">X_data</span><span class="p">,</span> <span class="n">wavenumbers</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span></div>



<div class="viewcode-block" id="covid19">
<a class="viewcode-back" href="../../datasets.html#ramanspy.datasets.covid19">[docs]</a>
<span class="k">def</span> <span class="nf">covid19</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raman spectra acquired from patients with COVID-19 and healthy controls.</span>

<span class="sd">    Data from `Yin G. et al. (2021) &lt;https://pubmed.ncbi.nlm.nih.gov/33821082/&gt;`_.</span>

<span class="sd">    Must be downloaded first. Available on `Kaggle &lt;https://www.kaggle.com/datasets/sfran96/raman-spectroscopy-for-detecting-covid19&gt;`_.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    file : str, default=None</span>
<span class="sd">        Path to the file containing the downloaded data.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    SpectralContainer with spectral_data of shape (N, B)</span>
<span class="sd">        The Raman spectra provided in the selected dataset.</span>
<span class="sd">    np.ndarray[int] of shape (N, )</span>
<span class="sd">        The corresponding labels - indicating which group each data point corresponds to.</span>
<span class="sd">    np.ndarray[string] of shape (B, )</span>
<span class="sd">        The names of the labels.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Yin G, Li L, Lu S, Yin Y, Su Y, Zeng Y, Luo M, Ma M, Zhou H, Orlandini L, Yao D. An efficient primary screening of COVID‐19 by serum Raman spectroscopy. Journal of Raman Spectroscopy. 2021 May;52(5):949-58.</span>

<span class="sd">    Yin G, Li L, Lu S, Yin Y, Su Y, Zeng Y, Luo M, Ma M, Zhou H, Yao D, Liu G, Lang J. Data and code on serum Raman spectroscopy as an efficient primary screening of coronavirus disease in 2019 (COVID-19). figshare; 2020.</span>


<span class="sd">    Examples:</span>
<span class="sd">    ----------</span>

<span class="sd">    .. code::</span>

<span class="sd">        import ramanspy as rp</span>

<span class="sd">        # Load training dataset</span>
<span class="sd">        spectra, labels, label_names = rp.datasets.covid19(path_to_data=&quot;path/to/data&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

    <span class="n">labels</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;diagnostic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">return_inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">X_data</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;diagnostic&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
    <span class="n">wavenumbers</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

    <span class="n">X</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">(</span><span class="n">X_data</span><span class="p">,</span> <span class="n">wavenumbers</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">labels</span></div>



<div class="viewcode-block" id="wheat_lines">
<a class="viewcode-back" href="../../datasets.html#ramanspy.datasets.wheat_lines">[docs]</a>
<span class="k">def</span> <span class="nf">wheat_lines</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">download</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raman spectra acquired from groups of wheat lines:</span>

<span class="sd">        - ``&#39;COM&#39;`` - Commercial cultivar;</span>
<span class="sd">        - ``&#39;COM - 125mM&#39;`` - Commercial cultivar treated with 125mM NaCl;</span>
<span class="sd">        - ``&#39;ML1 - 125mM&#39;`` - Mutant Line 1 treated with 125mM NaCl;</span>
<span class="sd">        - ``&#39;ML2 - 125mM&#39;`` - Mutant Line 2 treated with 125mM NaCl.</span>

<span class="sd">    Data from `ŞEN A. et al. (2023) &lt;https://www.frontiersin.org/articles/10.3389/fpls.2023.1116876/full&gt;`_.</span>

<span class="sd">    Available on `Zenodo &lt;https://zenodo.org/record/7644521#.ZC7jV3bMK3A&gt;`_.</span>

<span class="sd">    Can be downloaded directly through the function or downloaded separately. In the latter case, users just need to</span>
<span class="sd">    specifiy the location of the file to be loaded.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    file : str, default=None</span>
<span class="sd">        Path to the file containing the downloaded data. Not used if ``download=True``.</span>
<span class="sd">    download : bool, default=True</span>
<span class="sd">        If ``True``, will download the data from Zenodo. Otherwise, will look for the data in the specified path given by ``path_to_data``.</span>
<span class="sd">        Note that if ``download=True``, data will be downloaded which may take some time.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    SpectralContainer with spectral_data of shape (N, B)</span>
<span class="sd">        The Raman spectra provided in the selected dataset.</span>
<span class="sd">    np.ndarray[int] of shape (N, )</span>
<span class="sd">        The corresponding labels - indicating which group each data point corresponds to.</span>
<span class="sd">    np.ndarray[string] of shape (B, )</span>
<span class="sd">        The names of the labels.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    ŞEN A, Kecoglu I, Ahmed M, Parlatan U, Unlu M. Differentiation of advanced generation mutant wheat lines: Conventional techniques versus Raman spectroscopy. Frontiers in Plant Science. 2023;14.</span>

<span class="sd">    Examples:</span>
<span class="sd">    ----------</span>

<span class="sd">    .. code::</span>

<span class="sd">        import ramanspy as rp</span>

<span class="sd">        # Load training dataset</span>
<span class="sd">        spectra, labels, label_names = rp.datasets.wheat_lines()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">download</span><span class="p">:</span>
        <span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;Data.mat&#39;</span>
        <span class="n">wget</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;https://zenodo.org/record/7644521/files/</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">?download=1&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

    <span class="n">wavenumbers</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Calx&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>

    <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;COM&#39;</span><span class="p">,</span> <span class="s1">&#39;COM_125mM&#39;</span><span class="p">,</span> <span class="s1">&#39;ML1_125mM&#39;</span><span class="p">,</span> <span class="s1">&#39;ML2_125mM&#39;</span><span class="p">]</span>

    <span class="n">X_data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labels</span><span class="p">):</span>
        <span class="n">X_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">dataset</span><span class="p">])</span>
        <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">dataset</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

    <span class="n">X_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">X_data</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

    <span class="n">X</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">(</span><span class="n">X_data</span><span class="p">,</span> <span class="n">wavenumbers</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">labels</span></div>



<div class="viewcode-block" id="adenine">
<a class="viewcode-back" href="../../datasets.html#ramanspy.datasets.adenine">[docs]</a>
<span class="k">def</span> <span class="nf">adenine</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">download</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raman spectra acquired from samples representing different levels of adenine concentrations.</span>

<span class="sd">    Data from `Fornasaro, Stefano, et al. (2020) &lt;https://pubs.acs.org/doi/10.1021/acs.analchem.9b05658&gt;`_.</span>

<span class="sd">    Can be downloaded directly through the function or downloaded separately. In the latter case, users just need to</span>
<span class="sd">    specifiy the location of the file to be loaded.</span>

<span class="sd">    Available on `Zenodo &lt;https://zenodo.org/record/3572359#.ZGxwOxbMLDs&gt;`_.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    file : str, default=None</span>
<span class="sd">        Path to the file containing the downloaded data. Not used if ``download=True``.</span>
<span class="sd">    download : bool, default=True</span>
<span class="sd">        If ``True``, will download the data from Zenodo. Otherwise, will look for the data in the specified path given by ``path_to_data``.</span>
<span class="sd">        Note that if ``download=True``, data will be downloaded which may take some time.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    SpectralContainer with spectral_data of shape (N, B)</span>
<span class="sd">        The Raman spectra provided in the selected dataset.</span>
<span class="sd">    pandas.DataFrame of shape (N, 8)</span>
<span class="sd">        8 additional features indicating sample collection parameters..</span>
<span class="sd">    np.ndarray[int] of shape (N, )</span>
<span class="sd">        The corresponding labels - indicating the adenine concentration which each data point corresponds to.</span>


<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Fornasaro S, Alsamad F, Baia M, Batista de Carvalho LA, Beleites C, Byrne HJ, Chiadò A, Chis M, Chisanga M, Daniel A, Dybas J. Surface enhanced Raman spectroscopy for quantitative analysis: results of a large-scale European multi-instrument interlaboratory study. Analytical chemistry. 2020 Feb 11;92(5):4053-64.</span>

<span class="sd">    Examples:</span>
<span class="sd">    ----------</span>

<span class="sd">    .. code::</span>

<span class="sd">        import ramanspy as rp</span>

<span class="sd">        # Load dataset</span>
<span class="sd">        spectra, additional_features, labels = rp.datasets.adenine()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">download</span><span class="p">:</span>
        <span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;ILSdata.csv&#39;</span>
        <span class="n">wget</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;https://zenodo.org/record/3572359/files/</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">?download=1&quot;</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;conc&#39;</span><span class="p">)</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;400&#39;</span><span class="p">:]</span>
    <span class="n">features</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="p">:</span><span class="s1">&#39;replica&#39;</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">X</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span> <span class="n">y</span></div>



<div class="viewcode-block" id="volumetric_cells">
<a class="viewcode-back" href="../../datasets.html#ramanspy.datasets.volumetric_cells">[docs]</a>
<span class="k">def</span> <span class="nf">volumetric_cells</span><span class="p">(</span><span class="n">cell_type</span><span class="o">=</span><span class="s1">&#39;THP-1&#39;</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">SpectralVolume</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A single volumetric scan of hiPSC cells.</span>

<span class="sd">    Data from `Kallepitis et al. (2017) &lt;https://www.nature.com/articles/ncomms14843&gt;`_.</span>

<span class="sd">    Must be downloaded first. Provided by authors on `Zenodo &lt;https://zenodo.org/record/256329#.Y7wpc3bP1D_&gt;`_.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    cell_type : str, default=&#39;THP-1&#39;</span>
<span class="sd">        The cell type to load. Supported cell types are:</span>

<span class="sd">        - ``&#39;THP-1&#39;`` - THP-1 cells (n=4);</span>

<span class="sd">    folder : str, default=None</span>
<span class="sd">        Path to the folder containing the data. If ``None``, will use the root location.</span>


<span class="sd">    Returns</span>
<span class="sd">    ---------</span>
<span class="sd">    list[SpectralVolume]</span>
<span class="sd">        A collection of volumetric data of the given cell type.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Kallepitis, C., Bergholt, M., Mazo, M. et al. Quantitative volumetric Raman imaging of three dimensional cell cultures. Nat Commun 8, 14843 (2017).</span>


<span class="sd">    Examples:</span>
<span class="sd">    ----------</span>

<span class="sd">    .. code::</span>

<span class="sd">        import ramanspy as rp</span>

<span class="sd">        cells_volume = rp.datasets.volumetric_cells(cell_type=&#39;THP-1&#39;, path_to_data=&quot;path/to/data&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dir_</span> <span class="o">=</span> <span class="n">cell_type</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">cell_type</span><span class="p">)</span>

    <span class="n">volumes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">core</span><span class="o">.</span><span class="n">SpectralVolume</span><span class="o">.</span><span class="n">from_image_stack</span><span class="p">(</span>
            <span class="p">[</span><span class="n">load</span><span class="o">.</span><span class="n">witec</span><span class="p">(</span><span class="n">matlab_file</span><span class="p">)</span> <span class="k">for</span> <span class="n">matlab_file</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dir_</span><span class="p">,</span> <span class="s1">&#39;*.mat&#39;</span><span class="p">)))</span> <span class="k">if</span> <span class="n">replicate</span> <span class="ow">in</span> <span class="n">matlab_file</span><span class="p">]</span>
        <span class="p">)</span> <span class="k">for</span> <span class="n">replicate</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;001&#39;</span><span class="p">,</span> <span class="s1">&#39;002&#39;</span><span class="p">,</span> <span class="s1">&#39;003&#39;</span><span class="p">,</span> <span class="s1">&#39;004&#39;</span><span class="p">]</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">volumes</span></div>



<div class="viewcode-block" id="MDA_MB_231_cells">
<a class="viewcode-back" href="../../datasets.html#ramanspy.datasets.MDA_MB_231_cells">[docs]</a>
<span class="k">def</span> <span class="nf">MDA_MB_231_cells</span><span class="p">(</span><span class="n">dataset</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">,</span> <span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    170k pairs of low- and high-SNR data. I</span>

<span class="sd">    Ideal for developing and validating denoising models and algorithms.</span>

<span class="sd">    Data from `Horgan, C.C. et al. (2021) &lt;https://pubs.acs.org/doi/full/10.1021/acs.analchem.1c02178&gt;`_.</span>

<span class="sd">    Must be downloaded first. Provided by authors on `Google Drive &lt;https://drive.google.com/drive/folders/1590Zqr56txK5_hVlrfe7oEIdcKoUTEIH&gt;`_.</span>

<span class="sd">    All data has spectral dimensionality of 500, in the range (500, 1800) cm:sup:`-1`.</span>


<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dataset : str, default=&#39;train&#39;</span>
<span class="sd">        Which bacteria dataset to load.</span>

<span class="sd">        Available datasets are:</span>

<span class="sd">        - ``&#39;train&#39;`` - Just under 160k spectra.</span>
<span class="sd">        - ``&#39;test&#39;`` - Just under 13k spectra.</span>

<span class="sd">    folder : str, default=None</span>
<span class="sd">        Path to the folder containing the downloaded data. If None, will use the root location. Irrelevant if ``dataset=&#39;labels&#39;``.</span>


<span class="sd">    Returns</span>
<span class="sd">    ---------</span>
<span class="sd">    SpectralContainer</span>
<span class="sd">        Low SNR input.</span>
<span class="sd">    SpectralContainer</span>
<span class="sd">        The corresponding high SNR target output.</span>


<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Horgan, C.C., Jensen, M., Nagelkerke, A., St-Pierre, J.P., Vercauteren, T., Stevens, M.M. and Bergholt, M.S., 2021. High-Throughput Molecular Imaging via Deep-Learning-Enabled Raman Spectroscopy. Analytical Chemistry, 93(48), pp.15850-15860.</span>


<span class="sd">    Examples:</span>
<span class="sd">    ----------</span>

<span class="sd">    .. code::</span>

<span class="sd">        import ramanspy as rp</span>

<span class="sd">        input, output = rp.datasets.MDA_MB_231_cells(path_to_data=&quot;path/to/data&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_splits</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;train&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Train_Inputs&#39;</span><span class="p">,</span> <span class="s1">&#39;Train_Outputs&#39;</span><span class="p">],</span>
        <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Test_Inputs&#39;</span><span class="p">,</span> <span class="s1">&#39;Test_Outputs&#39;</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">dataset</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_splits</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2"> is not a valid split of the bacteria dataset. Available splits are </span><span class="si">{</span><span class="n">_splits</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="n">X_path</span><span class="p">,</span> <span class="n">y_path</span> <span class="o">=</span> <span class="n">_splits</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>

    <span class="n">X_data_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">X_path</span><span class="si">}</span><span class="s2">.mat&quot;</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">X_path</span><span class="si">}</span><span class="s2">.mat&quot;</span><span class="p">)</span>
    <span class="n">y_data_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">y_path</span><span class="si">}</span><span class="s2">.mat&quot;</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">y_path</span><span class="si">}</span><span class="s2">.mat&quot;</span><span class="p">)</span>
    <span class="n">wavenumbers_path</span> <span class="o">=</span> <span class="s1">&#39;axis.txt&#39;</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s1">&#39;axis.txt&#39;</span><span class="p">)</span>

    <span class="n">wavenumbers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">wavenumbers_path</span><span class="p">)</span>

    <span class="n">X</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="n">X_data_path</span><span class="p">)</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">X_path</span><span class="p">],</span> <span class="n">wavenumbers</span><span class="p">)</span>

    <span class="n">Y</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="n">y_data_path</span><span class="p">)</span>
    <span class="n">Y</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">(</span><span class="n">Y</span><span class="p">[</span><span class="n">y_path</span><span class="p">],</span> <span class="n">wavenumbers</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">X</span><span class="p">,</span> <span class="n">Y</span></div>



<div class="viewcode-block" id="rruff">
<a class="viewcode-back" href="../../datasets.html#ramanspy.datasets.rruff">[docs]</a>
<span class="k">def</span> <span class="nf">rruff</span><span class="p">(</span><span class="n">dataset</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">download</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raman spectra acquired from various minerals.</span>

<span class="sd">    Data from the `RRUFF database &lt;https://rruff.info/&gt;`_.</span>

<span class="sd">    Can be downloaded directly through the function or downloaded separately. In the latter case, users just need to</span>
<span class="sd">    specifiy the location of the file to be loaded.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dataset : str</span>
<span class="sd">        The name of the RRUFF Raman dataset to load. Check available datasets `here &lt;https://rruff.info/zipped_data_files/raman/&gt;`_.</span>
<span class="sd">    folder : str, default=None</span>
<span class="sd">        Path to the folder containing the downloaded data. If None, will use the root location. Irrelevant if ``download=True`.</span>
<span class="sd">    download : bool, optional, default=True</span>
<span class="sd">        Whether to download the specified dataset or load it from a local directory. If ``download=False``, all .txt files</span>
<span class="sd">        from the directory provided via `dataset` will be loaded.</span>


<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[Spectrum]</span>
<span class="sd">        The Raman spectra provided.</span>
<span class="sd">    list[dict]</span>
<span class="sd">        List of metadata dictionaries, extracted from the header of the RRUFF data file.</span>


<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    Lafuente B, Downs R T, Yang H, Stone N (2015) The power of databases: the RRUFF project. In: Highlights in Mineralogical Crystallography, T Armbruster and R M Danisi, eds. Berlin, Germany, W. De Gruyter, pp 1-30.</span>


<span class="sd">    Examples:</span>
<span class="sd">    ----------</span>
<span class="sd">    </span>
<span class="sd">    .. code:: </span>
<span class="sd">    </span>
<span class="sd">        import ramanspy as rp</span>
<span class="sd">       </span>
<span class="sd">        # downloaded from the Internet</span>
<span class="sd">        rp.datasets.rruff(&#39;fair_oriented&#39;)</span>
<span class="sd">       </span>
<span class="sd">        # loaded from the given folder</span>
<span class="sd">        rp.datasets.rruff(&#39;path/to/dataset/folder/fair_oriented&#39;, download=False)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">download</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_download_rruff</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="n">dataset</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">dataset</span><span class="p">)</span>
        <span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2">/*.txt&quot;</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">_parse_rruff_files</span><span class="p">(</span><span class="n">files</span><span class="p">)</span></div>



<span class="k">def</span> <span class="nf">_download_rruff</span><span class="p">(</span><span class="n">dataset</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">dataset</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.zip&#39;</span><span class="p">):</span>
        <span class="n">dataset</span> <span class="o">+=</span> <span class="s2">&quot;.zip&quot;</span>

    <span class="n">zipurl</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://rruff.info/zipped_data_files/raman/</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">with</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">zipurl</span><span class="p">)</span> <span class="k">as</span> <span class="n">zipresp</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">zipresp</span><span class="o">.</span><span class="n">read</span><span class="p">()))</span> <span class="k">as</span> <span class="n">zipfile</span><span class="p">:</span>
            <span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">zipfile</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">file_name</span> <span class="ow">in</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">namelist</span><span class="p">()]</span>

            <span class="k">return</span> <span class="n">_parse_rruff_files</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_parse_rruff_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">],</span> <span class="nb">dict</span><span class="p">]</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">intensities</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">shift_axis</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
        <span class="n">line</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">line</span>

        <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;##&quot;</span><span class="p">):</span>
            <span class="n">ind</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)</span>
            <span class="n">property_</span> <span class="o">=</span> <span class="n">line</span><span class="p">[:</span><span class="n">ind</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="n">ind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="n">metadata</span><span class="p">[</span><span class="n">property_</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">axis_value</span><span class="p">,</span> <span class="n">intensity_value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>

            <span class="n">intensities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">intensity_value</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
            <span class="n">shift_axis</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">axis_value</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>

    <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">intensities</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">core</span><span class="o">.</span><span class="n">Spectrum</span><span class="p">(</span><span class="n">intensities</span><span class="p">,</span> <span class="n">shift_axis</span><span class="p">),</span> <span class="n">metadata</span>


<span class="k">def</span> <span class="nf">_parse_rruff_files</span><span class="p">(</span><span class="n">files</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">core</span><span class="o">.</span><span class="n">SpectralContainer</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">dict</span><span class="p">]]:</span>
    <span class="n">spectra</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">_parse_rruff_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">spectrum</span><span class="p">,</span> <span class="n">metadatum</span> <span class="o">=</span> <span class="n">result</span>

        <span class="n">spectra</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">spectrum</span><span class="p">)</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">metadatum</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">spectra</span><span class="p">,</span> <span class="n">metadata</span>
</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Dimitar Georgiev
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    </body>
</html>